[Unit]
Description=Traefik
Documentation=https://doc.traefik.io/traefik/
AssertFileIsExecutable=/usr/bin/traefik
AssertPathExists=/etc/traefik/traefik.yml

[Service]
User=traefik
ExecStart=/usr/bin/traefik --configFile=/etc/traefik/traefik.yml
Type=notify
Restart=always
WatchdogSec=1s
ProtectSystem=strict
ProtectHome=true
PrivateDevices=true
ProtectKernelTunables=true
ProtectControlGroups=true
ReadWritePaths=/etc/traefik
ReadOnlyPaths=/var/run/docker.sock
CapabilityBoundingSet=CAP_NET_BIND_SERVICE
AmbientCapabilities=CAP_NET_BIND_SERVICE
NoNewPrivileges=true

[Install]
WantedBy=multi-user.target
